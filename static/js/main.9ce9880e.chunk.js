(this["webpackJsonpbp-demo"]=this["webpackJsonpbp-demo"]||[]).push([[0],{181:function(t,e,a){},576:function(t,e,a){},581:function(t,e){},582:function(t,e){},590:function(t,e){},593:function(t,e){},594:function(t,e){},597:function(t,e,a){"use strict";a.r(e);var n={};a.r(n),a.d(n,"formatWeightArray",(function(){return xt})),a.d(n,"toFunc2DArray",(function(){return yt})),a.d(n,"flatten",(function(){return mt})),a.d(n,"getRandomInt",(function(){return gt})),a.d(n,"tensorToArray",(function(){return vt}));var r={};a.r(r),a.d(r,"generateLinearScale",(function(){return Ot})),a.d(r,"generateLink",(function(){return kt})),a.d(r,"generateNeuronPlacement",(function(){return wt})),a.d(r,"generateLinksPlacement",(function(){return St}));var s=a(8),i=a(61),c=a.n(i),o=a(5),l=a(11),u=a(14),h=a(15),d=a(271),p=a(398),j=a(635),b=a(36),f=(a(181),a(1)),x=function(t){var e=t.source,a=t.target,n=t.color,r=t.isAnimating;return Object(f.jsxs)("g",{children:[Object(f.jsx)("defs",{children:Object(f.jsx)("marker",{id:"head",orient:"auto",markerWidth:"3",markerHeight:"4",refX:"0.1",refY:"2",children:Object(f.jsx)("path",{d:"M0,0 V4 L2,2 Z",fill:n})})}),Object(f.jsx)("path",{className:r?"absorb":"arrow",id:"arrow-line",markerEnd:"url(#head)",fill:"none",stroke:n,d:"M".concat(e.x,",").concat(e.y,", ").concat(a.x,", ").concat(a.y)})]})},y=function(t){var e=function(t){return"undefined"===typeof t},a=function(t,a,n,r){return e(t[a])||e(t[a][n])||e(t[a][n][r])},n=function(t,e,a,n,r){var s=n?-a:a;return Object(f.jsx)(x,{source:{x:t,y:e},target:{x:t,y:e+s},color:r,isAnimating:"transition"===u})},r=t.playing,s=t.mode,i=t.shapedLinks,c=t.shapedWeights,o=t.shapedRects,l=t.miniNN,u=t.subEpoch,h=t.keyFrameLoss,d=t.keyFrameLayer,p=t.lr,j=t.isAnimating,y="orange",m="black",g=32,v=b.m().x((function(t){return t.x})).y((function(t){return t.y})),O=Object(f.jsx)("svg",{id:"p",width:"810",height:"500",overflow:"visible",children:Object(f.jsxs)("g",{id:"ee",children:[Object(f.jsx)("path",{d:"M 750, 234 L 750, 300",stroke:2===h||1===h?y:m,className:s&&h>0?1===h?"edgeForward":2===h?"edgeBackward":"edgePaused":r}),Object(f.jsx)("path",{d:v({source:{x:766,y:315},target:{x:890,y:430}}),stroke:m,fill:"none",className:r}),Object(f.jsx)("path",{d:v({source:{x:766,y:250},target:{x:890,y:150}}),stroke:m,fill:"none",className:r}),i.map((function(t,e){return t.map((function(t,n){var i="edgePaused",o=!1;return s&&"forward"===u&&e===d?(i="edgeForward",o=!0):s&&"backward"===u&&e===d&&(i="edgeBackward",o=!0),t.map((function(t,h){var d=a(c,e,n,h),p=d?[]:c[e][n][h],x=d?1:2*Math.abs(p)+.1,y=d?"lightgrey":p>0?"#4BA3C3":"#D62839";if(s&&"update"===u&&!0===j){var m=2*l.model[e][n].dWeights[h],g=.01*m;b.t("#nn").select("#p").select("#ee").select("#cpath".concat(e).concat(n).concat(h)).transition().duration(750).ease(b.g).attr("stroke-width",x-m).transition().duration(750).ease(b.h).attr("stroke-width",x-g)}return Object(f.jsx)("path",{id:"cpath".concat(e).concat(n).concat(h),d:t,className:s?i:r,strokeWidth:x,stroke:o?"orange":y,fill:"none"},"".concat(e).concat(n).concat(h))}))}))})),Object(f.jsx)("rect",{x:55,y:234,width:g,height:g,fill:"darkgrey"}),o.map((function(t,e){return t.map((function(t,a){var r=!1,i="backward"===u||"transition"===u;return(s&&e<=d||i||"update"===u)&&(r=!0),Object(f.jsxs)("g",{children:[Object(f.jsx)("rect",{x:t.x,y:t.y,width:g,height:g,fill:734===t.x&&234===t.y&&s?"#C6C6C6":b.q(104,104,104).brighter(r?l.model[e][a].actStep+p:1),stroke:734===t.x&&234===t.y?"#507BB6":"black",strokeWidth:3}),null!==l&&s&&i&&e>=d-1&&0!==l.model[e][a].dActStep?n(t.x+16,t.y+16,Math.abs(l.model[e][a].dActStep),l.model[e][a].dActStep<0,y):""]},"".concat(e,",").concat(a))}))})),Object(f.jsx)("rect",{x:734,y:300,width:g,height:g,fill:"none",stroke:"black"}),Object(f.jsx)("text",{fontFamily:"sans-serif",fontSize:"12px",x:739,y:318,children:"loss"})]})});return Object(f.jsx)("div",{id:"nn",children:O})},m=a(3),g=a.n(m),v=a(13),O=function(t){Object(u.a)(a,t);var e=Object(h.a)(a);function a(){return Object(o.a)(this,a),e.apply(this,arguments)}return Object(l.a)(a,[{key:"plotPoints",value:function(t,e,a){t.selectAll("circle").data(e).enter().append("circle").attr("cx",(function(t){return t.x})).attr("cy",(function(t){return t.y})).attr("r",(function(t,e){return e===a?5:2})).style("fill",(function(t,e){return e===a?"orange":"grey"}))}},{key:"generateScales",value:function(t,e,a,n,r){return{xScale:b.r().domain([t,e]).range([0,a-2*r]),yScale:b.r().domain([t,e]).range([n-2*r,0])}}},{key:"componentDidMount",value:function(){var t=Object(v.a)(g.a.mark((function t(){var e,a,n,r,s,i,c,o,l,u,h,d,p,j;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=this.props,a=e.width,n=e.height,r=e.padding,s=e.start,i=e.stop,c=e.id,o=b.t("#scatter".concat(c)),(l=o.append("svg").attr("width",a).attr("height",n).style("overflow","visible")).append("rect").attr("width",a).attr("height",n).attr("class","cord"),u=this.generateScales(s,i,a,n,r),h=u.xScale,d=u.yScale,p=b.a().scale(h),j=b.c().scale(d),l.append("g").attr("class","axis").attr("transform","translate(0,".concat(n-2*r,")")).call(p),l.append("g").attr("class","axis").attr("transform","translate("+(a-2*r)+",0)").call(j),l.append("line").attr("x1",0).attr("y1",(n+1)/2).attr("x2",a).attr("y2",(n+1)/2).attr("class","split"),l.append("line").attr("x1",(a+1)/2).attr("y1",0).attr("x2",(a+1)/2).attr("y2",n).attr("class","split"),l.append("path").attr("id","scatterline").attr("stroke","none").attr("fill","none");case 12:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){for(var t=this.props,e=t.width,a=t.height,n=t.padding,r=t.start,s=t.stop,i=t.X,c=t.y,o=t.yhat,l=t.id,u=t.select,h=t.duration,d=this.generateScales(r,s,e,a,n),p=d.xScale,j=d.yScale,f=b.t("#scatter".concat(l)).select("svg"),x=[],y=[],m=0;m<i.length;m++)x.push({x:p(i[m]),y:j(c[m])}),y.push([p(i[m]),j(o[m])]);f.selectAll("circle").remove(),this.plotPoints(f,x,u),f.select("#scatterline").transition().duration(h).attr("d",b.l()(y)).attr("stroke","black").attr("fill","none")}},{key:"render",value:function(){var t=this.props.id;return Object(f.jsx)("div",{id:"scatter".concat(t)})}}]),a}(s.Component),k=function(t){Object(u.a)(a,t);var e=Object(h.a)(a);function a(){return Object(o.a)(this,a),e.apply(this,arguments)}return Object(l.a)(a,[{key:"plotPoints",value:function(t,e,a){var n={x:this.props.X[a],y:this.props.y[a]},r=function(t,e){return t===e},s="#4BA3C3",i=5,c="grey",o=2;t.selectAll("circle").data(e).enter().append("circle").attr("cx",(function(t){return t.x})).attr("cy",(function(t){return t.y})).attr("r",(function(t,e){return r(e,a)?i:o})).style("fill",(function(t,e){return r(e,a)?s:c})),t.append("text").attr("x",e[a].x+10).attr("y",e[a].y).attr("fill",s).attr("font-size","12px").text("(".concat(n.x.toFixed(2),",").concat(n.y.toFixed(2),")"))}},{key:"generateScales",value:function(t,e,a,n,r){return{xScale:b.r().domain([t,e]).range([0,a-2*r]),yScale:b.r().domain([t,e]).range([n-2*r,0])}}},{key:"animateLineChange",value:function(t,e,a,n,r){t.attr("d",b.l()(a)).attr("stroke",e).attr("fill","none"),t.transition().duration(r).attr("d",b.l()(n))}},{key:"componentDidMount",value:function(){var t=Object(v.a)(g.a.mark((function t(){var e,a,n,r,s,i,c,o,l,u,h,d,p,j;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=this.props,a=e.width,n=e.height,r=e.padding,s=e.start,i=e.stop,c=e.id,o=b.t("#animatedPlot".concat(c)),(l=o.append("svg").attr("width",a).attr("height",n).style("overflow","visible")).append("rect").attr("width",a).attr("height",n).attr("class","cord"),u=this.generateScales(s,i,a,n,r),h=u.xScale,d=u.yScale,p=b.a().scale(h),j=b.c().scale(d),l.append("g").attr("class","axis").attr("transform","translate(0,".concat(n-2*r,")")).call(p),l.append("g").attr("class","axis").attr("transform","translate("+(a-2*r)+",0)").call(j),l.append("line").attr("x1",0).attr("y1",(n+1)/2).attr("x2",a).attr("y2",(n+1)/2).attr("class","split"),l.append("line").attr("x1",(a+1)/2).attr("y1",0).attr("x2",(a+1)/2).attr("y2",n).attr("class","split"),l.append("path").attr("id","scatterline").attr("stroke","none").attr("fill","none");case 12:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"updateAll",value:function(){for(var t=this.props,e=t.width,a=t.height,n=t.padding,r=t.start,s=t.stop,i=t.X,c=t.y,o=t.yhat,l=t.id,u=t.select,h=t.potential,d=this.generateScales(r,s,e,a,n),p=d.xScale,j=d.yScale,f=b.t("#animatedPlot".concat(l)).select("svg"),x=[],y=[],m=[],g=[],v=0;v<i.length;v++){x.push({x:p(i[v]),y:j(c[v])});var O=p(i[v]);y.push([O,j(o[v])]),g.push([O,j(h[v])]),m.push([O,j(0)])}f.selectAll("circle").remove(),f.selectAll("text").remove();var k=f.select("#scatterline");this.plotPoints(f,x,u),"reset"===this.props.status?k.attr("id","scatterline").attr("stroke","none").attr("fill","none"):"real"===this.props.status?this.animateLineChange(k,"black",m,y,750):"pred"===this.props.status&&this.animateLineChange(k,"orangered",y,g,750)}},{key:"componentDidUpdate",value:function(){this.updateAll()}},{key:"shouldComponentUpdate",value:function(){return!this.props.shouldNotRender}},{key:"render",value:function(){var t=this.props.id;return Object(f.jsx)("div",{id:"animatedPlot".concat(t)})}}]),a}(s.Component),w=function(t){Object(u.a)(a,t);var e=Object(h.a)(a);function a(){return Object(o.a)(this,a),e.apply(this,arguments)}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var t=b.t("#sweet"),e=100,a=300,n=b.r().domain([0,-1]).range([0,300]),r=b.r().domain([1,1]).range([100,0]),s=t.append("svg").attr("width",a).attr("height",e).style("overflow","visible");s.append("rect").attr("width",a).attr("height",e).attr("class","cord");var i=b.a().scale(n),c=b.c().scale(r);s.append("g").attr("class","axis").attr("id","x").attr("transform","translate(0,".concat(100,")")).call(i),s.append("g").attr("class","axis").attr("id","y").attr("transform","translate(300,0)").call(c.ticks(0)),s.append("path").attr("id","line").attr("stroke","none").attr("fill","none")}},{key:"componentDidUpdate",value:function(){for(var t=this.props,e=t.lossArray,a=t.duration,n=e.length-1,r=b.r().domain([0,n]).range([1,300]),s=b.o(e),i=b.n(e),c=b.r().domain([s,i]).range([100,0]),o=b.t("#sweet").select("svg"),l=[],u=0;u<e.length;u++)l.push([r(u),c(e[u])]);var h=b.a().scale(r),d=b.c().scale(c);o.select("#x").transition().duration(a).attr("transform","translate(0,".concat(100,")")).call(h.ticks(5)),o.select("#y").transition().duration(a).attr("transform","translate(300,0)").call(d.ticks(5)),o.select("#line").transition().duration(a).attr("d",b.l()(l)).attr("stroke","black").attr("fill","none")}},{key:"render",value:function(){return Object(f.jsx)("div",{id:"sweet"})}}]),a}(s.Component),S=(a(567),a(268)),C=function(t){return Object(f.jsx)(S.InlineMath,{math:t})},A=a(625),F=a(639),N=a(614),L=a(616),E=a(617),P=a(637),D=(a(627),a(620)),T=a(621),R=a(628),B=a(629),M=a(54),W=a(50),z=a(43);a(576);function q(t){var e=t.node,a=t.xScale,n=t.yScale,r=t.width,s=(t.height,t.ticks),i=void 0===s?10:s,c=t.padding,o=void 0===c?0:c,l=b.d().scale(a),u=b.b().scale(n);e.select("#xAxis-contour").attr("class","axis").attr("transform","translate(0,0)").call(l.ticks(i)),e.select("#yAxis-contour").attr("class","axis").attr("transform","translate("-(r-2*o)+",0)").call(u.ticks(i))}function H(t){var e=t.node,a=t.m,n=void 0===a?[[0,0],[0,0]]:a,r=t.b,s=void 0===r?[[0,0],[0,0]]:r,i=t.stroke,c=void 0===i?"none":i,o=t.mStroke,l=void 0===o?c:o,u=t.bStroke,h=void 0===u?c:u;e.select("#m-line").attr("x1",n[0][0]).attr("y1",n[0][1]).attr("x2",n[1][0]).attr("y2",n[1][1]).attr("class","line").attr("id","m-line").style("stroke",l),e.select("#b-line").attr("x1",s[0][0]).attr("y1",s[0][1]).attr("x2",s[1][0]).attr("y2",s[1][1]).attr("id","b-line").attr("class","line").style("stroke",h)}function I(t,e){var a=e.x,n=void 0===a?0:a,r=e.y,s=void 0===r?0:r,i=e.hidden,c=void 0===i||i,o=e.text,l=void 0===o?"none":o,u=e.textColor,h=void 0===u?"red":u,d=e.rectFillColor,p=void 0===d?"hsla(0, 0%, 100%, 0.5)":d,j=n+10,b=s+10;t.select("#loss-rect").attr("x",j).attr("y",b).attr("width",100).attr("height",30).attr("fill",c?"none":p).attr("stroke",c?"none":h),t.select("#loss-text").attr("x",j+10).attr("y",b+20).attr("fill",c?"none":h).text(l)}var X=function(t){Object(u.a)(a,t);var e=Object(h.a)(a);function a(t){var n;return Object(o.a)(this,a),(n=e.call(this,t)).state={width:200,height:200},n.loss=n.loss.bind(Object(z.a)(n)),n}return Object(l.a)(a,[{key:"loss",value:function(t,e){for(var a=this.props.data,n=a.X,r=a.y,s=0,i=0;i<a.X.length;i++)s+=Math.pow(t*n[i]+e-r[i],2);return s/(2*n.length)}},{key:"componentDidMount",value:function(){var t=Object(v.a)(g.a.mark((function t(){var e,a,n,r,s,i,c,o,l,u,h,d,p,j,f,x,y,m,v,O,k,w,S,C,A,F;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.state;case 2:return e=t.sent,a=e.width,n=e.height,r=b.t("#divContour").select("#contour"),t.next=8,this.props;case 8:for(s=t.sent,s.data,i=s.darkness,c=a,o=n,l=new Array(c*o),u=[],h=[],d=.5,p=0;d<o;++d)for(j=.5;j<c;++j,++p)f=j/c*10-5,x=d/o*20,u.push(f),h.push(x),y=this.loss(f,x),l[p]=y;return m=b.i(u),v=b.i(h),O=function(t){return t[0]},k=function(t){return t[1]},t.next=20,b.p(i,20,1).map((function(t){return Math.pow(2,t)}));case 20:w=t.sent,S=b.s(b.i(w),b.k),C=b.f().size([c,o]).thresholds(w)(l),A=b.r().domain([O(m),k(m)]).range([0,a]),F=b.r().domain([O(v),k(v)]).range([0,n]),q({node:r,height:n,width:a,xScale:A,yScale:F,padding:0,ticks:10}),r.append("g").attr("fill","none").selectAll("path").data(C).join("path").attr("fill",(function(t){return S(t.value)})).attr("d",b.j()),r.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",0).attr("id","b-line").style("stroke","none"),r.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",0).attr("id","m-line").style("stroke","none"),r.append("circle").attr("cx",a/2).attr("cy",0).attr("r",5).style("fill","none").style("stoke","none"),r.append("rect").attr("id","loss-rect"),r.append("text").attr("id","loss-text"),I(r,{hidden:!0});case 32:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var t=this.state,e=t.width,a=t.height,n=this.props,r=n.loss,s=n.ms,i=n.m,c=n.b,o=n.wColor,l=n.bColor,u=b.t("#divContour").select("#contour");if(null==r)return u.select("circle").attr("cx",e/2).attr("cy",0).attr("r",5).style("fill","none").style("stroke","none"),H({node:u}),u.select("#m-text").attr("fill","#0000"),u.select("#b-text").attr("fill","#0000"),void I(u,{hidden:!0});if(r<1e3){var h=function(t,e){return e/2+t/10*e}(i,e),d=function(t,e){return t/20*e}(c,a);u.select("circle").transition().duration(200-s).attr("cx",h).attr("cy",d).attr("r",4).style("stroke","white").style("stroke-width",3).style("fill","red").style("opacity","1.0"),u.select("#m-text").text("w = ".concat(i.toFixed(2))).attr("x",h).attr("y",-20).attr("fill",o).style("font-weight",500),u.select("#b-text").text("b = ".concat(c.toFixed(2))).attr("x",-20).attr("y",d+5).attr("fill",l).style("font-weight",500),H({node:u,b:[[-15,d],[h,d]],m:[[h,-15],[h,d]],mStroke:b.e(o).brighter(),bStroke:b.e(l).brighter()}),I(u,{hidden:!1,text:"loss: ".concat(r.toFixed(3)),x:h,y:d})}}},{key:"render",value:function(){var t=this.state,e=t.width,a=t.height;return Object(f.jsx)("div",{id:"divContour",style:{paddingLeft:"85px",paddingTop:"40px",overflow:"visible"},children:Object(f.jsxs)("svg",{style:{width:e,height:a,overflow:"visible"},id:"contour",children:[Object(f.jsx)("g",{id:"xAxis-contour"}),Object(f.jsx)("g",{id:"yAxis-contour"}),Object(f.jsx)("text",{id:"m-text",style:{textAnchor:"middle"}}),Object(f.jsx)("text",{id:"b-text",style:{textAnchor:"end"}})]})})}}]),a}(s.Component),_=(a.p,a(618)),U=a(619),G=a(622),Y=a(623),V=a(33),J="#FFA500",K="#56A8C7",Z=function(t){Object(u.a)(a,t);var e=Object(h.a)(a);function a(t){var n;return Object(o.a)(this,a),(n=e.call(this,t)).state={yhat:[],darkness:-4,playButton:!0,linreg:{meanSquaredError:0,rsquared:null,data:{X:[],y:[]},hyperparams:{learningRate:.03,epochs:0,loss:null,speed:200},tunableparams:{m:0,b:0}}},n.generateData=n.generateData.bind(Object(z.a)(n)),n.linearRegression=n.linearRegression.bind(Object(z.a)(n)),n.a=n.a.bind(Object(z.a)(n)),n.handleSlider=n.handleSlider.bind(Object(z.a)(n)),n.reset=n.reset.bind(Object(z.a)(n)),n}return Object(l.a)(a,[{key:"reset",value:function(){this.generateData(),this.setState(Object(W.a)(Object(W.a)({},this.state),{},{playButton:!0,linreg:Object(W.a)(Object(W.a)({},this.state.linreg),{},{rsquared:null,hyperparams:Object(W.a)(Object(W.a)({},this.state.linreg.hyperparams),{},{epochs:0,loss:null}),tunableparams:{m:0,b:0}})}))}},{key:"generateData",value:function(){var t=this;V.r((function(){var e=[0,1,2,3,4,5],a=[5,4,3,2,1,0],n=V.q(a),r=V.g(n).dataSync()[0],s=1/(2*e.length)*V.o(V.i(V.n(r,n),2)).dataSync()[0];t.setState(Object(W.a)(Object(W.a)({},t.state),{},{yhat:[0,0,0,0,0,0],linreg:Object(W.a)(Object(W.a)({},t.state.linreg),{},{meanSquaredError:s,data:{X:e,y:a}})}))}))}},{key:"linearRegression",value:function(){var t=this;V.r((function(){if(t.state.linreg.hyperparams.epochs>1e4)t.setState({playButton:!t.state.playButton});else{var e=t.state.linreg.tunableparams,a=e.m,n=e.b,r=t.state.linreg.hyperparams.learningRate,s=t.state.linreg.data,i=s.X,c=s.y,o=V.q(i),l=V.q(c),u=function(t,e,a){return V.a(V.h(t,e),a)}(o,a,n),h=o.shape[0],d=1/h*V.o(V.h(V.n(u,l),o)).dataSync()[0],p=1/h*V.o(V.n(u,l)).dataSync()[0],j=function(t,e){return 1/(2*h)*V.o(V.i(V.n(e,t),2)).dataSync()[0]}(l,u);a+=-r*d,n+=-r*p;var b=1-j/t.state.linreg.meanSquaredError,f=t.state.linreg.hyperparams.epochs+1,x=Array.from(u.dataSync());t.setState(Object(W.a)(Object(W.a)({},t.state),{},{yhat:x,linreg:Object(W.a)(Object(W.a)({},t.state.linreg),{},{rsquared:b,tunableparams:{m:a,b:n},hyperparams:Object(W.a)(Object(W.a)({},t.state.linreg.hyperparams),{},{epochs:f,loss:j})})}))}}))}},{key:"a",value:function(){var t=Object(v.a)(g.a.mark((function t(){var e,a,n,r;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=function(t){return new Promise((function(e){return setTimeout(e,t)}))},a=200;case 2:return n=this.state.linreg.hyperparams.speed,r=a-n,t.next=7,this.linearRegression();case 7:return t.next=9,e(r);case 9:if(!0!==this.state.playButton){t.next=11;break}return t.abrupt("break",13);case 11:t.next=2;break;case 13:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"handleSlider",value:function(t,e){this.setState({linreg:Object(W.a)(Object(W.a)({},this.state.linreg),{},{hyperparams:Object(W.a)(Object(W.a)({},this.state.linreg.hyperparams),{},{speed:e})})})}},{key:"componentDidMount",value:function(){var t=Object(v.a)(g.a.mark((function t(){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.generateData();case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this,e=this.state.linreg.tunableparams,a=e.m,n=e.b,r=this.state.linreg.hyperparams,s=r.loss,i=r.speed,c=r.epochs,o=this.state.linreg.data,l=function(t,e){return null===t?t:t.toFixed(e)};return Object(f.jsx)("div",{children:Object(f.jsxs)(P.a,{display:"flex",justifyContent:"center",marginTop:2,children:[Object(f.jsx)(P.a,{marginTop:10,marginRight:10,children:Object(f.jsx)(O,{width:300,height:300,padding:0,start:0,stop:5,X:o.X,y:o.y,yhat:this.state.yhat,id:420,select:-1,duration:0})}),Object(f.jsx)(N.a,{variant:"outlined",children:Object(f.jsxs)(L.a,{children:[Object(f.jsxs)(E.a,{variant:"h4",component:"h2",children:["EPOCH: ",c]}),Object(f.jsxs)(E.a,{variant:"h6",children:[C("\\text{neuron}(x) = "),Object(f.jsx)("span",{style:{color:K},children:C("".concat(l(a,2)))}),C(" x\\ + \\ "),Object(f.jsx)("span",{style:{color:J},children:C("".concat(l(n,2)))})]}),Object(f.jsx)("div",{style:{margin:"20px 10px"}}),Object(f.jsx)(_.a,{onClick:this.reset,children:Object(f.jsx)(U.a,{})}),Object(f.jsx)(D.a,{style:{background:this.state.playButton?"#175676":"#D62839",color:"white"},onClick:Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.setState({playButton:!t.state.playButton});case 2:return e.next=4,t.a();case 4:case"end":return e.stop()}}),e)}))),disableTouchRipple:!0,children:this.state.playButton?Object(f.jsx)(T.a,{}):Object(f.jsx)(G.a,{})}),Object(f.jsx)(_.a,{style:{color:200===i?"grey":"#FFC006"},onClick:function(){t.setState({linreg:Object(W.a)(Object(W.a)({},t.state.linreg),{},{hyperparams:Object(W.a)(Object(W.a)({},t.state.linreg.hyperparams),{},{speed:200===i?120:200})})})},children:Object(f.jsx)(Y.a,{})}),Object(f.jsx)("div",{style:{height:"1px",width:"100%",background:"#0001",marginTop:"25px"}}),Object(f.jsx)(X,{ms:i,data:o,m:isFinite(a)?a:0,b:isFinite(n)?n:0,loss:s,darkness:this.state.darkness,wColor:K,bColor:J})]})})]})})}}]),a}(s.Component),Q=a(640),$=function(t){Object(u.a)(a,t);var e=Object(h.a)(a);function a(t){var n;return Object(o.a)(this,a),(n=e.call(this,t)).state={weight:-.82,bias:-.02,loss:0,domain:[],range:[],line:[],show:!0,width:400,biasColor:"#FFA500",weightColor:"#56A8C7",lossColor:"red"},n}return Object(l.a)(a,[{key:"loss",value:function(t,e,a){return V.r((function(){var n=V.q(t),r=V.q(e);return 1/(2*a)*V.o(V.i(V.n(r,n),2)).dataSync()[0]}))}},{key:"computeLine",value:function(t,e,a){for(var n,r=new Array(a.length),s=0;s<a.length;s++)r[s]=(n=a[s],t*n+e);return r}},{key:"zeros",value:function(t){for(var e=new Array(t),a=0;a<t;a++)e[a]=0;return e}},{key:"range",value:function(t,e,a){for(var n=[],r=t;r<=e;r+=a)n.push(r);return n}},{key:"dataGenerator",value:function(){var t=this.range(-1,1,.1),e=this.computeLine(.65,-.3,t),a=this.computeLine(this.state.weight,this.state.bias,t),n=this.loss(e,a,e.length);this.setState({domain:t,range:e,line:a,loss:n})}},{key:"componentDidMount",value:function(){this.dataGenerator()}},{key:"render",value:function(){var t=this,e=this.state,a=e.domain,n=e.range,r=e.bias,s=e.weight,i=e.line,c=e.loss,o=e.show,l=e.width,u=e.weightColor,h=e.biasColor,d=e.lossColor;return Object(f.jsxs)(P.a,{display:"flex",justifyContent:"center",children:[Object(f.jsx)(P.a,{style:{filter:"blur(".concat(o?0:25,"px)")},children:Object(f.jsx)(O,{width:l,height:l,padding:0,start:-1,stop:1,X:a,y:n,yhat:i,id:69,select:-1,duration:0})}),Object(f.jsx)(P.a,{marginLeft:7,children:Object(f.jsx)(N.a,{variant:"outlined",children:Object(f.jsxs)(L.a,{children:[Object(f.jsxs)("p",{children:["Manually tune"," ",Object(f.jsx)("em",{style:{color:u},children:"weight"})," ","and ",Object(f.jsx)("em",{style:{color:h},children:"bias"})," ","and try to reach a"," ",Object(f.jsx)("em",{style:{color:d},children:"loss"})," of 0"]}),Object(f.jsx)(Q.a,{style:{color:u},value:s,onChange:function(e,i){var c=t.computeLine(s,r,a),o=t.loss(n,c,n.length);t.setState({weight:i,line:c,loss:o})},min:-1,step:.01,max:1,valueLabelDisplay:"auto"}),Object(f.jsx)(Q.a,{style:{color:h},value:r,onChange:function(e,i){var c=t.computeLine(s,r,a),o=t.loss(n,c,n.length);t.setState({bias:i,line:c,loss:o})},min:-1,step:.01,valueLabelDisplay:"auto",max:1}),Object(f.jsxs)("h3",{children:[C("\\text{neuron}(x) = ")," ",Object(f.jsx)("em",{style:{color:u},children:C("".concat(s))}),C("x + ")," ",Object(f.jsx)("em",{style:{color:h},children:C("".concat(r))})]}),Object(f.jsxs)("h3",{children:[Object(f.jsx)("i",{style:{color:d},children:"loss"})," ",C(" = \\frac{1}{J}\\sum_{i = 1}^J (\\hat{y_i} - y_i)^2 ="),Object(f.jsxs)("em",{style:{color:d},children:[" ",C("".concat(c.toFixed(7)))]})]})]})})})]})}}]),a}(s.Component),tt=a(624),et=(s.Component,s.Component,a.p+"static/media/summary.c45974a2.svg"),at=(a.p,a.p,a.p,a.p,a.p,a.p,a.p,a.p,a.p,a(21)),nt=a(269),rt=a.n(nt),st=a(641),it=a(638),ct=a(631),ot=a(633),lt=a(630),ut=a(632),ht=a.p+"static/media/singleSummary.8525cefd.svg",dt=a.p+"static/media/epochMode.0ae87189.png",pt=a.p+"static/media/key.a581ba62.svg",jt=function(){function t(e,a){Object(o.a)(this,t),this.weights=e,this.bias=a}return Object(l.a)(t,[{key:"mult",value:function(t,e){return t.map((function(t,a){return t*e[a]}))}},{key:"dMult",value:function(t,e){return this.mult(t,e)}},{key:"sum",value:function(t){return t.reduce((function(t,e){return t+e}))}},{key:"dSum",value:function(t,e){for(var a=[],n=0;n<e;n++)a.push(t);return a}},{key:"linear",value:function(t){return t}},{key:"forward",value:function(t,e){var a=this.weights,n=this.bias,r=this.mult,s=this.sum,i=r(t,a),c=s(i)+n,o=e(c);this.inputs=t,this.multStep=i,this.sumStep=c,this.actStep=o,this.output=o}},{key:"backward",value:function(t,e){var a=this.inputs,n=this.weights,r=this.actStep,s=this.dSum,i=this.mult,c=this.sum,o=e(r)*t,l=s(o,a.length),u=o,h=i(l,a),d=i(l,n),p=c(d);this.dvalue=t,this.dActStep=o,this.dSumStep=l,this.dBias=u,this.dWeights=h,this.dInputs=d,this.dInputsSum=p}}]),t}(),bt=function(){function t(){Object(o.a)(this,t)}return Object(l.a)(t,[{key:"forward",value:function(t,e){var a=t-e,n=this.output=Math.pow(t-e,2);this.subStep=a,this.squareStep=n,this.output=n}},{key:"backward",value:function(){this.dInputs=2*this.subStep}}]),t}(),ft=function(){function t(e,a,n){Object(o.a)(this,t),this.model=[],this.loss=new bt,this.shape=e;for(var r=0;r<a.length;r++){for(var s=[],i=0;i<a[r].length;i++)s.push(new jt(a[r][i],n[r][i]));this.model.push(s)}}return Object(l.a)(t,[{key:"sum",value:function(t){return t.reduce((function(t,e){return t+e}))}},{key:"add",value:function(t,e){var a=t.length,n=e.length;if(n!==a)return console.error("".concat(a," does not match ").concat(n,", so returned empty array")),[];for(var r=new Array(a),s=0;s<t.length;s++)r[s]=t[s]+e[s];return r}},{key:"zeros",value:function(t){for(var e=new Array(t),a=0;a<t;a++)e[a]=0;return e}},{key:"dReLU",value:function(t){return t>0?1:0}},{key:"dLinear",value:function(t){return 1}},{key:"ReLU",value:function(t){return Math.max(0,t)}},{key:"linear",value:function(t){return t}},{key:"forward",value:function(t,e){for(var a=[t],n=this.model.length,r=0;r<n-1;r++){for(var s=[],i=0;i<this.model[r].length;i++)this.model[r][i].forward(a,this.ReLU),s.push(this.model[r][i].output);a=s}this.model[n-1][0].forward(a,this.linear),this.yhat=this.model[n-1][0].output,this.loss.forward(this.yhat,e)}},{key:"backward",value:function(){var t=this.add,e=this.zeros;this.loss.backward();var a=[this.loss.dInputs],n=this.model.length;this.model[n-1][0].backward(a[0],this.dLinear),a=this.model[n-1][0].dInputs;for(var r=n-2;r>=0;r--){for(var s=e(this.model[r][0].inputs.length),i=0;i<this.model[r].length;i++)this.model[r][i].backward(a[i],this.dReLU),s=t(s,this.model[r][i].dInputs);a=s}}},{key:"update",value:function(t){for(var e=function(t,e,a){return t-e*a},a=0;a<this.model.length;a++)for(var n=0;n<this.model[a].length;n++)for(var r=0;r<this.model[a][n].dWeights.length;r++){var s=e(this.model[a][n].weights[r],t,this.model[a][n].dWeights[r]),i=e(this.model[a][n].bias,t,this.model[a][n].dBias);this.model[a][n].weights[r]=s,this.model[a][n].bias=i}}}]),t}();function xt(t,e){for(var a=[],n=0;n<t.length;n++){for(var r=e[n+1],s=[],i=0;i<r;i++){for(var c=[],o=i;o<t[n].length;o+=r)c.push(t[n][o]);s.push(c)}a.push(s)}return a}function yt(t,e){for(var a=0;a<t.length;a++)for(var n=0;n<t[a].length;n++)t[a][n]=+t[a][n].toFixed(e);return t}function mt(t){for(var e=[],a=0;a<t.length;a++)for(var n=0;n<t[a].length;n++)e.push(t[a][n]);return e}function gt(t){return Math.floor(Math.random()*Math.floor(t))}function vt(t){return Array.from(t.dataSync())}function Ot(t,e){return{xScale:b.r().domain(t.domain).range(t.range),yScale:b.r().domain(e.domain).range(e.range)}}function kt(t){return b.m().x((function(e){return e.x+t})).y((function(e){return e.y+t}))}function wt(t,e,a,n,r,s,i){var c=[];c.push([n]);for(var o=1;o<t.length-1;o++){for(var l=[],u=0;u<t[o];u++){var h={x:s(e[o])-a/2,y:i(92-12*u)-a/2};l.push(h)}c.push(l)}return c.push([r]),c}function St(t,e,a){for(var n=[],r=[],s=[],i=1;i<t.length;i++){s=[];for(var c=0;c<t[i];c++){n=[];for(var o=0;o<t[i-1];o++)n.push(a({source:e[i-1][o],target:e[i][c]}));s.push(n)}r.push(s)}return r}var Ct=function(t){Object(u.a)(a,t);var e=Object(h.a)(a);function a(t){var n;return Object(o.a)(this,a),(n=e.call(this,t)).state={tensorFlowNN:null,miniNN:null,X:[],y:[],yhat:[],shape:[1,8,8,8,1],lr:.001,epoch:0,cpyEpoch:0,biasesData:[],weightsData:[],lossArray:[],loss:null,scale:5,shapedWeights:[],shapedRects:[],shapedLinks:[],direction:"edgePaused",curve:"sin",controls:{playing:!1,speed:100},mode:!1,stopRender:!1,keyFrameLayer:0,keyFrameLoss:0,keyFrameScatter:0,subEpoch:"",isAnimating:!1,lossSavings:0,lossDifference:0,singleInputExample:0,singleLabelExample:0,newOutput:0,controlCenterHelp:!1,customizationHelp:!1,neuralNetworkHelp:!1,lossChange:0,potentialYhat:[],singleInputIndex:-1,shouldNotRender:!1,status:"reset",zoom:1},n.initNeuralNetwork=n.initNeuralNetwork.bind(Object(z.a)(n)),n.run=n.run.bind(Object(z.a)(n)),n.genTensorData=n.genTensorData.bind(Object(z.a)(n)),n.mutate=n.mutate.bind(Object(z.a)(n)),n.train=n.train.bind(Object(z.a)(n)),n.printParameters=n.printParameters.bind(Object(z.a)(n)),n.reset=n.reset.bind(Object(z.a)(n)),n.resetParameters=n.resetParameters.bind(Object(z.a)(n)),n.asyncPause=n.asyncPause.bind(Object(z.a)(n)),n.changeModelLr=n.changeModelLr.bind(Object(z.a)(n)),n.anim=n.anim.bind(Object(z.a)(n)),n.randExampleEpoch=n.randExampleEpoch.bind(Object(z.a)(n)),n}return Object(l.a)(a,[{key:"randExampleEpoch",value:function(t,e,a,r,s,i){var c=n.getRandomInt(this.state.X.length),o=t[c],l=e[c],u=n.formatWeightArray(a,s),h=new ft(s,u,r),d=new ft(s,u,r);h.forward(o,l),h.backward(),d.forward(o,l),d.backward(),d.update(i),d.forward(o,l);var p=d.yhat,j=d.loss.output,b=j,f=h.loss.output-j,x=function(t){for(var e=t.length,a=new Array(e),n=0;n<e;n++)d.forward(t[n],0),a[n]=d.yhat;return a}(t);this.setState(Object(W.a)(Object(W.a)({},this.state),{},{miniNN:h,potentialYhat:x,mode:!0,lossSavings:b,lossDifference:f,singleInputIndex:c,singleInputExample:o,singleLabelExample:l,newOutput:p,controls:Object(W.a)(Object(W.a)({},this.state.controls),{},{playing:!1})}))}},{key:"anim",value:function(){var t=Object(v.a)(g.a.mark((function t(){var e,a,n,r,s;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=this.state.shape,a=750,n=function(t){return new Promise((function(e){return setTimeout(e,t)}))},this.setState({subEpoch:"forward",status:"reset",isAnimating:!0,lossChange:0,cpyEpoch:this.state.epoch,keyFrameScatter:0}),r=0;case 5:if(!(r<e.length)){t.next=14;break}if(this.setState({keyFrameLayer:r}),r!==e.length-1){t.next=9;break}return t.abrupt("continue",11);case 9:return t.next=11,n(a);case 11:r++,t.next=5;break;case 14:return this.setState({keyFrameLoss:1,keyFrameScatter:1,status:"real",shouldNotRender:!0}),t.next=17,n(a);case 17:return this.setState({keyFrameLoss:2,shouldNotRender:!0}),t.next=20,n(a);case 20:this.setState({keyFrameLoss:3}),this.setState({lossChange:this.state.miniNN.loss.output}),this.setState({subEpoch:"backward",keyFrameScatter:2}),s=e.length-1;case 24:if(!(s>=0)){t.next=31;break}return this.setState({keyFrameLayer:s}),t.next=28,n(a);case 28:s--,t.next=24;break;case 31:return this.setState({keyFrameLayer:-1}),t.next=34,n(a);case 34:return this.setState({subEpoch:"transition"}),t.next=37,n(1e3);case 37:return this.setState({subEpoch:"update",shouldNotRender:!1}),t.next=40,n(1e3);case 40:this.setState({isAnimating:!1,lossChange:this.state.lossSavings,keyFrameScatter:4,cpyEpoch:this.state.cpyEpoch+1,status:"pred"});case 41:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"initNeuralNetwork",value:function(t){var e=this.state.controls.playing;if(e){if(e){var a=this.state,s=a.weightsData,i=a.shape,c=n.formatWeightArray(s,i);this.setState({shapedWeights:c})}}else{var o=32,l=r.generateLinearScale({domain:[0,100],range:[50,750]},{domain:[0,100],range:[500,0]}),u=l.xScale,h=l.yScale,d={x:55,y:234},p={x:734,y:234},j=r.generateLink(16),b=r.generateNeuronPlacement(t,[0,25,50,75,0],o,d,p,u,h),f=r.generateLinksPlacement(t,b,j);b.splice(0,1),this.setState({shapedLinks:f,shapedRects:b})}}},{key:"changeModelLr",value:function(t){var e=this;V.r((function(){e.setState({lr:t})}))}},{key:"run",value:function(){var t=Object(v.a)(g.a.mark((function t(){var e;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=!this.state.controls.playing,this.mutate("controls","playing",e),!0!==e){t.next=5;break}return t.next=5,this.train(this.state.X,this.state.y);case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"mutate",value:function(t,e,a){var n=this;V.r((function(){var r=Object(W.a)({},n.state);t in r&&e in r[t]?(r[t][e]=a,n.setState({state:r})):console.error("Could not be found in state")}))}},{key:"addModel",value:function(t){var e=this;return V.r((function(){var a=e.state.shape;t.add(V.d.dense({inputShape:[1],units:a[1],activation:"relu",useBias:!0}));for(var n=2;n<a.length-1;n++)t.add(V.d.dense({units:a[n],activation:"relu",useBias:!0}));return t.add(V.d.dense({units:1,activation:"linear",useBias:!0})),t}))}},{key:"modelCompile",value:function(t){var e=V.k();return this.addModel(e),e.compile({optimizer:V.s.sgd(t),loss:"meanSquaredError"}),e}},{key:"train",value:function(){var t=Object(v.a)(g.a.mark((function t(e,a){var r,s,i,c,o,l,u,h,d=this;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=V.r((function(){return V.q(e)})),s=V.r((function(){return V.q(a)})),i=V.r((function(){return d.state.tensorFlowNN})),c=function(t){return new Promise((function(e){return setTimeout(e,t)}))},o=this.state.controls.playing;case 5:if(!1===o){t.next=17;break}return this.setState({stopRender:!0}),l=this.state.controls,u=l.playing,h=l.speed,o=u,t.next=11,i.fit(r,s,{epochs:1,batchSize:1});case 11:return V.r((function(){var t=i.predict(r),e=n.tensorToArray(t),s=V.f.meanSquaredError(a,e).dataSync()[0];d.printParameters(i,s,e,d.state.epoch+1)})),this.setState({stopRender:!1}),t.next=15,c(h);case 15:t.next=5;break;case 17:this.setState({tensorFlowNN:i}),V.c(r),V.c(s);case 20:case"end":return t.stop()}}),t,this)})));return function(e,a){return t.apply(this,arguments)}}()},{key:"genTensorData",value:function(){var t=Object(v.a)(g.a.mark((function t(e,a,r){var s=this;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,V.j();case 2:V.r((function(){var t=V.e(-s.state.scale,s.state.scale,r),i=V.h(e(t),a),c=V.t(t),o=n.tensorToArray(t),l=n.tensorToArray(i),u=n.tensorToArray(c);s.setState({X:o,y:l,yhat:u})}));case 3:case"end":return t.stop()}}),t)})));return function(e,a,n){return t.apply(this,arguments)}}()},{key:"printParameters",value:function(t,e,a,n){for(var r=[],s=[],i=0;i<t.getWeights().length;i++)(i%2===0?r:s).push(Array.from(t.getWeights()[i].dataSync()));var c=[].concat(Object(at.a)(this.state.lossArray),[e]);this.setState({biasesData:s,weightsData:r,loss:e,yhat:a,epoch:n,lossArray:c}),this.initNeuralNetwork(this.state.shape)}},{key:"asyncPause",value:function(){var t=Object(v.a)(g.a.mark((function t(){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.setState({controls:Object(W.a)(Object(W.a)({},this.state.controls),{},{playing:!1})});case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"resetParameters",value:function(){var t=Object(v.a)(g.a.mark((function t(e){var a,n,r,s=this;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return V.c(this.state.tensorFlowNN),a=this.state.curve,V.r((function(){"sin"===a?n=V.m:"tanh"===a?n=V.p:"cos"===a&&(n=V.b)})),t.next=5,this.genTensorData(n,e,50);case 5:r=V.r((function(){return s.modelCompile(s.state.lr)})),this.setState({epoch:0,loss:null,miniNN:null,tensorFlowNN:r,shapedWeights:[],lossArray:[]}),V.c(undefined);case 8:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"reset",value:function(){var t=Object(v.a)(g.a.mark((function t(e){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.asyncPause(),this.resetParameters(e);case 2:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"correctZoom",value:function(t){var e=.25/474;return Math.min(1,e*t+.26845991561181437-.2)}},{key:"componentDidMount",value:function(){var t=Object(v.a)(g.a.mark((function t(){var e,a,n,r=this;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:V.l("cpu"),this.genTensorData(V.m,this.state.scale,50),this.initNeuralNetwork(this.state.shape),e=V.r((function(){return r.modelCompile(r.state.lr)})),a=document.body.clientWidth,n=this.correctZoom(a),this.setState({tensorFlowNN:e,zoom:n});case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"shouldComponentUpdate",value:function(){return!this.state.stopRender}},{key:"render",value:function(){var t=this,e=this.state,a=e.X,n=e.y,r=e.shape,s=e.scale,i=e.miniNN,c=e.weightsData,o=e.biasesData,l=e.yhat,u=e.mode,h=e.epoch,d=e.curve,p=e.lr,j=e.loss,b=e.controls,x=e.shapedWeights,m=e.shapedLinks,S=e.shapedRects,C=e.keyFrameLayer,M=e.keyFrameLoss,z=e.subEpoch,q=e.isAnimating,H=e.singleInputExample,I=e.singleLabelExample,X=e.lossSavings,Y=e.controlCenterHelp,J=e.customizationHelp,K=e.neuralNetworkHelp,Z=e.lossChange,Q=e.keyFrameScatter,$=e.zoom,at=b.playing,nt=b.speed,jt=[{label:"sin",eqn:V.m,scale:5},{label:"cos",eqn:V.b,scale:5},{label:"tanh",eqn:V.p,scale:5}],bt=Object(f.jsx)(D.a,{style:{background:this.state.controls.playing?"#D62839":"#175676",color:"white"},disableTouchRipple:!0,onClick:function(){return t.run()},children:at?Object(f.jsx)(G.a,{}):Object(f.jsx)(T.a,{})}),ft=Object(f.jsxs)(tt.a,{children:[Object(f.jsx)(F.a,{title:"reset",arrow:!0,children:Object(f.jsx)(_.a,{disabled:at,onClick:function(){t.reset(s)},children:Object(f.jsx)(U.a,{})})}),bt,Object(f.jsx)(F.a,{title:"speed up",arrow:!0,children:Object(f.jsx)(_.a,{style:{color:0===nt?"#FFC006":"grey"},onClick:function(){t.setState({controls:Object(W.a)(Object(W.a)({},b),{},{speed:0===nt?100:0})})},children:Object(f.jsx)(lt.a,{})})})]}),xt=Object(f.jsx)(P.a,{marginTop:2,children:Object(f.jsxs)(tt.a,{children:[Object(f.jsx)(A.a,{onClick:Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.anim();case 2:case"end":return e.stop()}}),e)}))),disabled:q,style:{color:q?"lightgrey":"black",borderColor:q?"lightgrey":"black"},variant:"outlined",size:"small",children:"REPLAY"}),Object(f.jsx)(A.a,{onClick:Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.randExampleEpoch(a,n,c,o,r,p,u),e.next=3,t.anim();case 3:case"end":return e.stop()}}),e)}))),style:{color:q?"lightgrey":"#4BA3C3",borderColor:q?"lightgrey":"#4BA3C3"},disabled:q,variant:"outlined",size:"small",children:"New Training Example"})]})}),yt=Object(f.jsxs)(P.a,{width:400,marginLeft:10,children:[Object(f.jsx)(N.a,{variant:"outlined",children:Object(f.jsxs)(L.a,{children:[Object(f.jsxs)(E.a,{variant:"caption",style:{color:"#4BA3C3"},children:["Control Center",Object(f.jsx)(_.a,{size:"small",style:{color:"orange"},onClick:function(){t.setState({controlCenterHelp:!0})},children:Object(f.jsx)(B.a,{})})]}),Object(f.jsx)("div",{}),Object(f.jsxs)(E.a,{variant:"h4",children:["EPOCH: ",u?this.state.cpyEpoch:h]}),u?Object(f.jsxs)(tt.a,{children:[Object(f.jsx)(E.a,{style:{color:"orange"},variant:"h6",children:"Phase:"}),Object(f.jsx)(A.a,{disabled:!0,style:{color:"forward"===z?"orange":"grey"},children:"Forward"}),Object(f.jsx)(A.a,{disabled:!0,style:{color:"backward"===z?"orange":"grey"},children:"Backward"}),Object(f.jsx)(A.a,{disabled:!0,style:{color:"update"===z?"orange":"grey"},children:"Update"})]}):"",Object(f.jsx)(E.a,{variant:"h6",children:null==j||u?"":"Loss: ".concat(j.toPrecision(6))}),Object(f.jsx)(E.a,{variant:"h6",style:{color:"#4BA3C3"},children:u?"Training Example: (".concat(H.toPrecision(3),", ").concat(I.toPrecision(3),")"):""}),Object(f.jsxs)(E.a,{variant:"h5",style:{color:Q<3?"black":"orangered"},children:[u&&0!==Z?Q<3?"loss: ":"new loss: ":"",u&&0!==Z?Object(f.jsx)(rt.a,{value:Z,formatValue:function(t){return t.toPrecision(6)},duration:750}):""]}),Object(f.jsxs)(E.a,{style:{color:"grey"},variant:"caption",children:[Q>3&&u?"loss decrease: ":"",Q>3&&u?Object(f.jsx)(rt.a,{value:this.state.lossDifference,formatValue:function(t){return t.toPrecision(6)},duration:750}):""]}),u?xt:ft,Object(f.jsx)(tt.a,{children:null==j||q?"":Object(f.jsxs)(A.a,{variant:"outlined",style:{color:"#175676",borderColor:"#175676"},onClick:Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!u){e.next=5;break}t.setState({subEpoch:"",mode:!u}),t.run(),e.next=8;break;case 5:return t.randExampleEpoch(a,n,c,o,r,p,u),e.next=8,t.anim();case 8:case"end":return e.stop()}}),e)}))),children:[u?Object(f.jsx)(R.a,{}):"",u?"go back to fitting":"Click to Animate epoch ".concat(h)]})})]})}),Object(f.jsx)(P.a,{marginTop:5,children:Object(f.jsx)(N.a,{variant:"outlined",children:Object(f.jsxs)(L.a,{children:[Object(f.jsxs)(E.a,{variant:"caption",style:{color:"#4BA3C3"},children:["Customization",Object(f.jsx)(_.a,{size:"small",style:{color:"orange"},onClick:function(){t.setState({customizationHelp:!0})},children:Object(f.jsx)(B.a,{})})]}),Object(f.jsxs)(tt.a,{children:[Object(f.jsx)(E.a,{variant:"caption",children:"Learning Rate"}),[1e-4,.001,.003,.005].map((function(e,a){return Object(f.jsx)(st.a,{disabled:at||u,label:"".concat(e),style:{color:p===e?"white":"grey",background:p===e?"#175676":"lightgrey"},onClick:function(){V.r((function(){t.changeModelLr(e),t.reset(s)}))}},a)}))]}),Object(f.jsxs)(tt.a,{children:[Object(f.jsx)(E.a,{variant:"caption",children:"Data Set"}),jt.map((function(e,a){return Object(f.jsx)(st.a,{disabled:at||u,label:e.label,style:{color:d===e.label?"white":"grey",background:d===e.label?"#175676":"lightgrey"},onClick:function(){t.setState({shape:r,curve:e.label}),t.reset(s),V.r((function(){t.genTensorData(e.eqn,e.scale,50)}))}},a)}))]}),Object(f.jsxs)(tt.a,{children:[Object(f.jsx)(E.a,{variant:"caption",children:"Layer"}),Object(f.jsx)(A.a,{disabled:at||u,onClick:function(){var e=r;e.length<5&&(e[e.length-1]=8,e.push(1),t.setState({shape:e}),t.initNeuralNetwork(e),t.reset(s))},children:"+"}),Object(f.jsx)(A.a,{disabled:at||u,onClick:function(){var e=r;e.length>3&&(e.splice(e.length-2,1),t.setState({shape:e}),t.initNeuralNetwork(e),t.reset(s))},children:"\u2013"})]})]})})})]}),mt=Object(f.jsxs)(P.a,{marginLeft:10,children:[Object(f.jsx)(P.a,{children:u?Object(f.jsx)(k,{width:300,height:300,padding:0,start:-s,stop:s,X:a,y:n,yhat:l,potential:this.state.potentialYhat,id:2,select:this.state.singleInputIndex,times:this.state.keyFrameScatter,shouldNotRender:this.state.shouldNotRender,status:this.state.status}):Object(f.jsx)(O,{width:300,height:300,padding:0,start:-s,stop:s,X:a,y:n,yhat:l,id:1,duration:200,select:-1})}),Object(f.jsx)(P.a,{marginTop:10,children:Object(f.jsx)(w,{lossArray:this.state.lossArray,duration:100})})]}),gt=Object(f.jsxs)(P.a,{children:[Object(f.jsx)(y,{miniNN:i,input:H,label:I,shapedWeights:x,shapedLinks:m,shapedRects:S,shape:r,biases:o,playing:at?0===nt?"edgeForward":"edgeSlowed":"edgePaused",show:at,mode:u,backward:this.state.direction,keyFrameLayer:C,keyFrameLoss:M,subEpoch:z,lossSavings:X,isAnimating:q,lr:p}),Object(f.jsx)(_.a,{size:"small",style:{color:"orange",position:"relative",bottom:"500px",left:"100px"},onClick:function(){t.setState({neuralNetworkHelp:!0})},children:Object(f.jsx)(B.a,{})})]}),vt=Object(f.jsxs)("div",{children:[Object(f.jsxs)(it.a,{PaperProps:{style:{backgroundColor:"#F7F7F7"}},open:Y,children:[Object(f.jsx)(ct.a,{children:Object(f.jsx)(_.a,{onClick:function(){t.setState({controlCenterHelp:!1})},children:Object(f.jsx)(ut.a,{})})}),Object(f.jsx)(ot.a,{children:Object(f.jsx)(P.a,{display:"flex",justifyContent:"center",children:Object(f.jsxs)(P.a,{marginBottom:1,children:[Object(f.jsx)(E.a,{variant:"h5",children:Object(f.jsx)("b",{children:"Getting Stuck?"})}),Object(f.jsx)(E.a,{variant:"body1",children:Object(f.jsxs)("ol",{children:[Object(f.jsxs)("li",{children:["Press"," ",Object(f.jsx)(D.a,{style:{background:"#175676",color:"white"},size:"small",disabled:!0,children:Object(f.jsx)(T.a,{fontSize:"small"})})," ","to start training and fitting the curve to the data"]}),Object(f.jsxs)("li",{children:["Then press"," ",Object(f.jsx)(A.a,{variant:"outlined",size:"small",style:{borderColor:"#175676",color:"#175676"},disabled:!0,children:"Click to animate epoch #"})," ","to see forward propagation,"," ",Object(f.jsx)("b",{children:"backward propagation"}),", and update animation at the epoch #. While in this mode, you will have access to the control center"," ",Object(f.jsx)("b",{children:"below"}),Object(f.jsx)("img",{alt:"epochMode",src:dt,width:"100%"})]}),Object(f.jsxs)("li",{children:["To go back to training and fitting the curve to the data click"," ",Object(f.jsxs)(A.a,{variant:"outlined",size:"small",style:{borderColor:"#175676",color:"#175676"},disabled:!0,children:[Object(f.jsx)(R.a,{})," Go back to fitting"]})," "]})]})})]})})})]}),Object(f.jsxs)(it.a,{PaperProps:{style:{backgroundColor:"#F7F7F7"}},open:J,children:[Object(f.jsx)(ct.a,{children:Object(f.jsx)(_.a,{onClick:function(){t.setState({customizationHelp:!1})},children:Object(f.jsx)(ut.a,{})})}),Object(f.jsx)(ot.a,{children:Object(f.jsx)(P.a,{display:"flex",justifyContent:"center",children:Object(f.jsxs)(P.a,{marginBottom:5,children:[Object(f.jsx)(E.a,{variant:"h5",children:Object(f.jsx)("b",{children:"What you can't and can change"})}),Object(f.jsx)("br",{}),Object(f.jsx)(E.a,{variant:"h6",children:Object(f.jsx)("b",{children:"Fixed"})}),Object(f.jsxs)(E.a,{variant:"body1",children:["By default, this Neural Network stays fixed with",Object(f.jsxs)("ol",{children:[Object(f.jsx)("li",{children:"one input neuron, at least one hidden layer of eight ReLU neurons, and an output layer with one linear neuron."}),Object(f.jsx)("li",{children:"Stochastic Gradient Descent (one training example per epoch)"})]})]}),Object(f.jsx)(E.a,{variant:"h6",children:Object(f.jsx)("b",{children:"Variable"})}),Object(f.jsxs)(E.a,{variant:"body1",children:["You have the ability to change",Object(f.jsxs)("ol",{children:[Object(f.jsx)("li",{children:"Learning Rate (0.0001, 0.001, 0.003, or 0.005)"}),Object(f.jsx)("li",{children:"Data set (sine wave, cosine wave, or tanh curve)"}),Object(f.jsx)("li",{children:"Hidden layer neurons (min 1 and max 3)"})]})]})]})})})]}),Object(f.jsxs)(it.a,{PaperProps:{style:{backgroundColor:"#FAFAFA"}},open:K,children:[Object(f.jsx)(ct.a,{children:Object(f.jsx)(_.a,{onClick:function(){t.setState({neuralNetworkHelp:!1})},children:Object(f.jsx)(ut.a,{})})}),Object(f.jsxs)(ot.a,{children:[Object(f.jsx)(P.a,{display:"flex",justifyContent:"center",children:Object(f.jsx)(P.a,{children:Object(f.jsx)("img",{src:et,alt:"summary",width:"400"})})}),Object(f.jsx)(P.a,{display:"flex",justifyContent:"center",children:Object(f.jsxs)(P.a,{marginBottom:5,children:[Object(f.jsx)(E.a,{variant:"h6",children:Object(f.jsx)("b",{children:"Neural Network"})}),Object(f.jsx)(E.a,{variant:"body1",children:"Each square is a neuron in the neural network. To see what activation function the neuron has, check the key located right above the neural network."})]})}),Object(f.jsx)("img",{src:ht,alt:"singleSummary",width:"100%"}),Object(f.jsx)(P.a,{display:"flex",justifyContent:"center",children:Object(f.jsxs)(P.a,{marginBottom:5,children:[Object(f.jsx)(E.a,{variant:"h6",children:Object(f.jsx)("b",{children:"Single EPOCH mode"})}),Object(f.jsxs)(E.a,{variant:"body1",children:["During a single epoch after clicking"," ",Object(f.jsx)(A.a,{variant:"outlined",size:"small",style:{borderColor:"#175676",color:"#175676"},disabled:!0,children:"Click to animate epoch #"})," ",", each arrow will represent the direction to nudge the output to lower loss."]}),Object(f.jsx)(E.a,{variant:"body1",children:"The fill color shows the activation output, brighter is more active."})]})})]})]})]});return Object(f.jsxs)("div",{id:"app",children:[Object(f.jsx)(N.a,{variant:"outlined",style:{background:"#FAFAFA",outlineColor:"white",paddingBottom:"1em"},children:Object(f.jsxs)(L.a,{style:{transform:"scale(".concat($,")")},children:[Object(f.jsxs)(P.a,{display:"flex",justifyContent:"center",children:[Object(f.jsx)(P.a,{marginRight:90,children:Object(f.jsx)("img",{src:pt,alt:"key"})}),Object(f.jsx)(P.a,{children:Object(f.jsx)(E.a,{variant:"h3",children:"Neural Trainer"})})]}),Object(f.jsxs)(P.a,{className:"regular",display:"flex",justifyContent:"center",marginTop:2,children:[gt,mt,yt]})]})}),vt]})}}]),a}(s.Component),At=(a(634),a.p,a(254)),Ft=a(128),Nt=function(){return Object(f.jsx)(M.Element,{name:"structMan",children:"Hello from Qiushi Huang."})},Lt=function(){return Object(f.jsx)(M.Element,{name:"structLin",children:Object(f.jsx)(Z,{})})},Et=function(){return Object(f.jsx)(M.Element,{name:"mainTool",children:Object(f.jsx)(Ct,{})})},Pt=function(){return Object(f.jsx)(M.Element,{name:"structMan",children:Object(f.jsx)($,{})})},Dt=350,Tt=Object(p.a)({overrides:{MuiTypography:{h1:{fontWeight:Dt},h2:{fontWeight:Dt},h3:{marginTop:25,fontWeight:Dt},h4:{marginTop:20,marginBottom:10,fontWeight:Dt},h5:{fontWeight:Dt},h6:{fontWeight:Dt},body1:{fontWeight:Dt},body2:{fontWeight:Dt}}}}),Rt=function(t){Object(u.a)(a,t);var e=Object(h.a)(a);function a(){return Object(o.a)(this,a),e.apply(this,arguments)}return Object(l.a)(a,[{key:"componentDidMount",value:function(){d.a.initialize("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/bp-demo",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_GAID)),d.a.pageview("/")}},{key:"render",value:function(){return Object(f.jsx)(j.a,{theme:Tt,children:Object(f.jsxs)(At.a,{children:[" ",Object(f.jsxs)("div",{children:[Object(f.jsx)("br",{}),Object(f.jsxs)(Ft.c,{children:[" ",Object(f.jsx)(Ft.a,{exact:!0,path:"/",component:Nt}),Object(f.jsx)(Ft.a,{exact:!0,path:"/newpage",component:Nt})," ",Object(f.jsx)(Ft.a,{exact:!0,path:"/auto_fit_linear",component:Lt}),Object(f.jsx)(Ft.a,{exact:!0,path:"/backprop",component:Et}),Object(f.jsx)(Ft.a,{exact:!0,path:"/manualfit",component:Pt})]}),Object(f.jsx)("br",{})]})]})})}}]),a}(s.Component);c.a.render(Object(f.jsx)(At.b,{children:Object(f.jsx)(Rt,{})}),document.getElementById("root"))}},[[597,1,2]]]);
//# sourceMappingURL=main.9ce9880e.chunk.js.map